{% load static %}

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="{% static 'jogar.css' %}">n
    <title>Jogar</title>
</head>


<body>

    <h1>COMEÇADO - {{tipo}}</h1>
    <div class="jogo">
        <div>
            <h2 class="equacion"> {{v1}} {{sinal}} {{v2}}</h2>
        </div>
        <form action="" method="POST" id="meuForm">
              
        {% csrf_token %}
            <div>
                <input class="respostaUsuario" type="text" name="respostaUsuario"  id="respostaUsuario"  autofocus required>
            </div>

            <input type="hidden" name="resposta" id="resposta" value="{{resposta}}">

            <div class="divBtnEnviar">
                <input class="botaoEnviar" id="btnMostraResposta" type="submit" value="mostrar">
                
                <input  class="botaoEnviar" class="enviarBtn" id="btnEnviar" type="submit" value="enviar">
                <div class="btn btn-success botao" id="certo">Acertou!</div>
                <div class="btn btn-danger botao " id="errado">Errou!</div>
            </div>
        </form>
        <button class="finalizar">
            <a href="{% url 'finalizar' partidaId %}">finzalizar jogo</a>
        </button>
    </div>
   
</body>

<script>
    let form =  document.getElementById('meuForm')
    let btnEnviar =  document.getElementById('btnEnviar')
    
   
    form.addEventListener('submit', function(event){
      
        event.preventDefault()
        let respostaUsuario = document.getElementById('respostaUsuario')
        
        let resposta = document.getElementById('resposta')
        if ((respostaUsuario.value).trim() == (resposta.value).trim()){
            document.getElementById('certo').style.display = 'inline'
        }
        else{
             document.getElementById('errado').style.display = 'inline'
             let elemento = document.createElement('h2')
             elemento.innerText = resposta.value
             document.querySelector('.divBtnEnviar').appendChild(elemento)
             
        }
        let btnEnviar  = document.getElementById('btnEnviar')
        btnEnviar.style.display = 'inline'
        btnMostraResposta.style.display = 'none'
          
      
    
      
      
       
    })
    btnEnviar.addEventListener('click', function(){
        
        form.submit()
    })
    document.addEventListener("keypress", function(event) {
        
    if (event.key === "Enter" && btnEnviar.style.display == 'inline') { // Verifica se a tecla pressionada é "Enter"
        form.submit()
    }
});   
</script>
</html>